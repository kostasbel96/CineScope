@if(loading){
<div class="spinner"></div>
}
@else{
@for (cat of categories; track cat.name) {
<div>
    <div class="category">
        <h3 class="mt-3 p-2">{{ cat.name }}</h3>
    </div>
    <c-carousel>
        <c-carousel-inner>
            @for (tv of tvsByCategory[cat.name]; track $index) {
            <c-carousel-item>
                <div class="container p-5 w-100 text-center">
                    <div>
                        <img [src]="getTv(tv).poster_path ? iconUrl + getTv(tv).poster_path : 'assets/logo.png'"
                            alt="{{tv}}" class="img-fluid" loading="lazy"
                            [routerLink]="['/tv-details', getTv(tv).id]" />
                    </div>

                    <c-carousel-caption class="text-light title-caption">
                        <span class="title-movie">{{ tv }}</span>
                    </c-carousel-caption>
                </div>
                <div class="d-flex justify-content-center">
                    <button [routerLink]="['/tv-details', getTv(tv).id]" class="btn search-btn">
                        View Details
                    </button>
                </div>
            </c-carousel-item>
            }
        </c-carousel-inner>
        <c-carousel-control [routerLink] caption="Previous" direction="prev" />
        <c-carousel-control [routerLink] caption="Next" direction="next" />

    </c-carousel>

</div>
}
}