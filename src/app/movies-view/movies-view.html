@if(loading){
<div class="spinner"></div>
}
@else{
@for (cat of categories; track cat.name) {
<div>
    <div class="category">
        <h3 class="mt-3 p-2">{{ cat.name }}</h3>
    </div>
    <c-carousel>
        <c-carousel-inner>
            @for (movie of moviesByCategory[cat.name]; track $index) {
            <c-carousel-item>
                <div class="container p-5 w-100 text-center">
                    <img [src]="getMovie(movie).poster_path ? iconUrl + getMovie(movie).poster_path : 'assets/logo.png'"
                        alt="{{movie}}" class="img-fluid" loading="lazy"
                        style="height: 400px; object-fit: cover; width: auto; margin: 0 auto;" />
                    <c-carousel-caption class="text-light title-caption">
                        <span class="title-movie">{{ movie }}</span>
                    </c-carousel-caption>
                </div>
                <div class="d-flex justify-content-center">
                    <button [routerLink]="['/movie-details', getMovie(movie).id]" class="btn search-btn">
                        View Details
                    </button>
                </div>
            </c-carousel-item>
            }
        </c-carousel-inner>
        <c-carousel-control [routerLink] caption="Previous" direction="prev" />
        <c-carousel-control [routerLink] caption="Next" direction="next" />

    </c-carousel>

</div>
}
}